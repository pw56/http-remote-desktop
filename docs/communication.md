# 通信内容

## 概要
リモートで接続するデバイスとブラウザが通信する内容と、その際に使用されるプロトコル。

## 内容

### メディア
- 画面
> デバイスの画面のスクリーンショットをハードウェアエンコードを利用し、HEVC形式にエンコード

- 音声
> デバイスの音声をリアルタイムで送信

### 入力
- キーボード
> ブラウザのキーボード入力の変化を十進数キーコードでリアルタイムでデバイスに送信

> 例:

> 入力がないとき
> ```yaml
> keys:
>  - false
> ```

> 'A'キーが押されたとき
> ```yaml
> keys:
>  - 65
> ```

> Shiftキーと'2'キーが押されたとき
> ```yaml
> keys:
>  - 16
>  - 56
> ```

> Shiftキーと'2'キーが押された状態から、Shiftキーのみが離されたとき
> ```yaml
> keys:
>  - 56
> ```

- マウス
> ブラウザのマウス入力の変化をデバイスにリアルタイムで送信

> 例:

> ボタンが押されていないとき
> ```yaml
> mouse:
>  - false
> ```

> 左のボタンが押されたとき
> ```yaml
> mouse:
>  - button_left
> ```

> 中央(ホイール)のボタンが押されたとき
> ```yaml
> mouse:
>  - button_middle
> ```

> 左のボタンと右のボタンが押された状態から、左のボタンのみが離されたとき
> ```yaml
> mouse:
>  - button_right
> ```

> マウスが左上に動かされたとき
> ```yaml
> mouse:
>  - displacement:
>      x: -50
>      y: 50
> ```

> マウスのホイールが下に動かされたとき
> ```yaml
> mouse:
>  - wheel: -20
> ```

- マイク
> デバイス側のリクエストに応じて、ブラウザのマイク入力をリアルタイムでデバイスに送信

- カメラ
> デバイス側のリクエストに応じて、ブラウザのカメラ映像をリアルタイムでデバイスに送信

### ポート
- USB
> デバイスとブラウザのUSBポートの信号をリアルタイムで双方向通信